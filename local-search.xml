<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Pythonè¯­æ³•ç³–</title>
    <link href="/2021/01/15/Python%E8%AF%AD%E6%B3%95%E7%B3%96/"/>
    <url>/2021/01/15/Python%E8%AF%AD%E6%B3%95%E7%B3%96/</url>
    
    <content type="html"><![CDATA[<h1 id="Syntactic-Suger"><a href="#Syntactic-Suger" class="headerlink" title="Syntactic Suger"></a>Syntactic Suger</h1><p>ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬</p><blockquote><p>è¯­æ³•ç³–ï¼šå†™ä»£ç æ—¶çš„æœ‰è¶£æ˜“ç”¨çš„å†™æ³•</p></blockquote><ol><li><p>å¤§æ•°çš„åˆ†éš”ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-number">1_000_000</span><br></code></pre></td></tr></table></figure></li><li><p>äº¤æ¢å˜é‡å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-number">100</span><br>b = <span class="hljs-number">50</span><br>a , b = b , a<br></code></pre></td></tr></table></figure></li><li><p>if else</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> (<span class="hljs-number">100</span> &lt; a &lt; <span class="hljs-number">150</span> ):<br></code></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²å¿«é€Ÿæ„é€ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-string">&quot;QAQ&quot;</span>*<span class="hljs-number">100</span><br></code></pre></td></tr></table></figure></li><li><p>åˆ—è¡¨ç›¸åŠ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br>b = [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>c = a + b<br></code></pre></td></tr></table></figure></li><li><p>åˆ—è¡¨åˆ‡ç‰‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]<br>c = a[<span class="hljs-number">2</span> : -<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure></li><li><p>æ‰“åŒ…è§£åŒ…</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>x,y,z = a<br></code></pre></td></tr></table></figure></li><li><p>withè¯­å¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>data = f.read()<br><span class="hljs-comment"># withä¼šè‡ªå¸¦closeå’Œå¼‚å¸¸å¤„ç† </span><br></code></pre></td></tr></table></figure></li><li><p>åˆ—è¡¨æ¨å¯¼å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>b = [e+<span class="hljs-number">233</span> <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> a]<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Syntactic Suger</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pygameè´ªåƒè›‡</title>
    <link href="/2021/01/13/pygame%E8%B4%AA%E5%90%83%E8%9B%87/"/>
    <url>/2021/01/13/pygame%E8%B4%AA%E5%90%83%E8%9B%87/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ›å»ºç•Œé¢"><a href="#åˆ›å»ºç•Œé¢" class="headerlink" title="åˆ›å»ºç•Œé¢"></a>åˆ›å»ºç•Œé¢</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">print(<span class="hljs-string">&quot;åˆ›å»ºæ¸¸æˆçª—å£&quot;</span>)<br>    <span class="hljs-comment"># å¯¼å…¥GUI</span><br>    pygame.init()<br>    <span class="hljs-comment"># è®¾ç½®çª—å£å°ºå¯¸</span><br>    screen = pygame.display.set_mode((<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))<br>    <span class="hljs-comment"># è®¾ç½®çª—å£æ ‡é¢˜</span><br>    pygame.display.set_caption(<span class="hljs-string">&quot;è´ªåƒè›‡&quot;</span>)<br>    running = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">while</span> running:<br>        <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>            <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.quit():<br>                running = <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h1 id="å‚æ•°åˆå§‹åŒ–"><a href="#å‚æ•°åˆå§‹åŒ–" class="headerlink" title="å‚æ•°åˆå§‹åŒ–"></a>å‚æ•°åˆå§‹åŒ–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span>:</span><br>    row = <span class="hljs-number">0</span><br>    clo = <span class="hljs-number">0</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, row, clo</span>):</span><br>        self.row = row<br>        self.clo = clo<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">copy</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> Point(row=self.row, clo=self.clo)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python">pygame.init()<br><span class="hljs-comment"># åˆå§‹åŒ–å›¾å½¢ç•Œé¢å¤§å°</span><br>GUI_width = <span class="hljs-number">800</span><br>GUI_height = <span class="hljs-number">400</span><br><br>ROW = <span class="hljs-number">30</span><br>CLO = <span class="hljs-number">40</span><br><span class="hljs-comment"># åˆå§‹åŒ–åˆ†æ•°</span><br>game_score = <span class="hljs-number">0</span><br><br>direct = <span class="hljs-string">&#x27;left&#x27;</span><br>GUI_screen = pygame.display.set_mode((GUI_width, GUI_height))<br>pygame.display.set_caption(<span class="hljs-string">&#x27;è´ªåƒè›‡æ¸¸æˆ&#x27;</span>)<br><br><span class="hljs-comment"># è›‡å¤´</span><br>head = Point(row=<span class="hljs-built_in">int</span>(ROW / <span class="hljs-number">2</span>), clo=<span class="hljs-built_in">int</span>(CLO / <span class="hljs-number">2</span>))<br><span class="hljs-comment"># è›‡èº«</span><br>snake = [<br>    Point(row=head.row, clo=head.clo + <span class="hljs-number">1</span>),<br>    Point(row=head.row, clo=head.clo + <span class="hljs-number">2</span>),<br>    Point(row=head.row, clo=head.clo + <span class="hljs-number">3</span>)<br>]<br></code></pre></td></tr></table></figure><h1 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs python">running = <span class="hljs-literal">True</span><br><span class="hljs-comment"># è®¾ç½®å¸§é¢‘ç‡</span><br>clock = pygame.time.Clock()<br>display_score_text = <span class="hljs-string">&#x27;å¾—åˆ†:&#x27;</span> + <span class="hljs-built_in">str</span>(game_score)<br><span class="hljs-keyword">try</span>:<br>    score_font = pygame.font.SysFont(<span class="hljs-string">&#x27;bahnschrift&#x27;</span>, <span class="hljs-number">30</span>)  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªfontå¯¹è±¡ï¼Œæ˜¾ç¤ºç»“æœ</span><br><span class="hljs-keyword">except</span> FileNotFoundError:<br>    print(<span class="hljs-string">&quot;æ²¡æœ‰è¿™ä¸ªå­—ä½“,ä¸‹é¢æ˜¯å·²å®‰è£…çš„å­—ä½“&quot;</span>)<br>    print(pygame.font.get_fonts())<br>    score_font = pygame.font.Font(<span class="hljs-literal">None</span>, <span class="hljs-number">30</span>)<br>WhiteFont = (<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>)<br><span class="hljs-keyword">while</span> running:<br>    <span class="hljs-comment"># å¤„ç†å¸§é¢‘ é”å¸§</span><br>    clock.tick(<span class="hljs-number">30</span>)<br>    <span class="hljs-comment"># pygame.event.get()è·å–å½“å‰äº‹ä»¶çš„é˜Ÿåˆ— å¯ä»¥åŒæ—¶å‘ç”Ÿå¾ˆå¤šäº‹ä»¶</span><br>    <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>        <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>            running = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br>            GUI_screen.blit(score_surface, (<span class="hljs-number">10</span>, <span class="hljs-number">5</span>))  <span class="hljs-comment"># å°†ç»“æœç»˜åˆ¶å‡ºæ¥</span><br>            <span class="hljs-comment"># è¿™é‡Œå°ç»†èŠ‚è›‡ä¸å¯ä»¥ç›´æ¥å·¦å³ä¸Šä¸‹ è¦åˆ¤æ–­å½“å‰æ˜¯åœ¨ä»€ä¹ˆçŠ¶æ€ä¸‹å‰è¡Œ</span><br>            <span class="hljs-keyword">if</span> event.key == <span class="hljs-number">273</span> <span class="hljs-keyword">or</span> event.key == <span class="hljs-number">119</span>:<br>                <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;left&#x27;</span> <span class="hljs-keyword">or</span> direct == <span class="hljs-string">&#x27;right&#x27;</span>:<br>                    direct = <span class="hljs-string">&#x27;top&#x27;</span><br>            <span class="hljs-keyword">if</span> event.key == <span class="hljs-number">274</span> <span class="hljs-keyword">or</span> event.key == <span class="hljs-number">115</span>:<br>                <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;left&#x27;</span> <span class="hljs-keyword">or</span> direct == <span class="hljs-string">&#x27;right&#x27;</span>:<br>                    direct = <span class="hljs-string">&#x27;bottom&#x27;</span><br>            <span class="hljs-keyword">if</span> event.key == <span class="hljs-number">276</span> <span class="hljs-keyword">or</span> event.key == <span class="hljs-number">97</span>:<br>                <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;top&#x27;</span> <span class="hljs-keyword">or</span> direct == <span class="hljs-string">&#x27;bottom&#x27;</span>:<br>                    direct = <span class="hljs-string">&#x27;left&#x27;</span><br>            <span class="hljs-keyword">if</span> event.key == <span class="hljs-number">275</span> <span class="hljs-keyword">or</span> event.key == <span class="hljs-number">100</span>:<br>                <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;top&#x27;</span> <span class="hljs-keyword">or</span> direct == <span class="hljs-string">&#x27;bottom&#x27;</span>:<br>                    direct = <span class="hljs-string">&#x27;right&#x27;</span><br>    <span class="hljs-comment"># åƒä¸œè¥¿</span><br>    eat = (head.row == snake_food_location.row <span class="hljs-keyword">and</span> head.clo == snake_food_location.clo)<br><br>    <span class="hljs-keyword">if</span> eat:<br>        snake_food_location = Point(row=random.randint(<span class="hljs-number">0</span>, ROW - <span class="hljs-number">1</span>), clo=random.randint(<span class="hljs-number">0</span>, CLO - <span class="hljs-number">1</span>))<br>        game_score = game_score + <span class="hljs-number">1</span><br>    snake.insert(<span class="hljs-number">0</span>, head.copy())<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> eat:<br>        snake.pop()<br><br>    <span class="hljs-comment"># ç§»åŠ¨ä¸€ä¸‹</span><br>    <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;left&#x27;</span>:<br>        head.clo -= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;right&#x27;</span>:<br>        head.clo += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;top&#x27;</span>:<br>        head.row -= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> direct == <span class="hljs-string">&#x27;bottom&#x27;</span>:<br>        head.row += <span class="hljs-number">1</span><br>    dead = <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">if</span> head.clo &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> head.row &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> head.clo &gt;= CLO <span class="hljs-keyword">or</span> head.row &gt;= ROW:<br>        dead = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">for</span> body <span class="hljs-keyword">in</span> snake:<br>        <span class="hljs-keyword">if</span> head.clo == body.clo <span class="hljs-keyword">and</span> head.row == body.row:<br>            dead = <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">break</span><br>    game_over = <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">if</span> dead:<br>        print(<span class="hljs-string">&#x27;Game Over&#x27;</span>)<br>        game_over = <span class="hljs-literal">True</span><br>    <span class="hljs-comment"># èƒŒæ™¯ç”»å›¾</span><br>    pygame.draw.rect(GUI_screen, (<span class="hljs-number">245</span>, <span class="hljs-number">135</span>, <span class="hljs-number">155</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, GUI_width, GUI_height))<br>    score_surface = score_font.render(<span class="hljs-string">&quot;Score : %s&quot;</span> % <span class="hljs-built_in">str</span>(game_score), <span class="hljs-literal">True</span>, WhiteFont)<br>    <span class="hljs-comment"># å›¾åƒï¼Œç»˜åˆ¶çš„ä½ç½®ï¼Œç»˜åˆ¶çš„æˆªé¢æ¡†</span><br>    GUI_screen.blit(score_surface, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), score_surface.get_rect())<br>    <span class="hljs-comment"># è›‡å¤´</span><br>    rect(head, head_color)<br>    <span class="hljs-comment"># ç»˜åˆ¶é£Ÿç‰©</span><br>    rect(snake_food_location, snake_food_color)<br>    <span class="hljs-comment"># ç»˜åˆ¶è›‡çš„èº«å­</span><br>    <span class="hljs-keyword">for</span> body <span class="hljs-keyword">in</span> snake:<br>        rect(body, snake_color)<br>    <span class="hljs-keyword">if</span> game_over:<br>        running = <span class="hljs-literal">False</span><br>        <span class="hljs-comment"># pygame.quit()</span><br>        <span class="hljs-comment"># break</span><br>        <span class="hljs-comment"># quit()</span><br><br>    pygame.display.flip()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
      <category>pygame</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
      <tag>pygame</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Spider_BQG</title>
    <link href="/2021/01/11/Spider-BQG/"/>
    <url>/2021/01/11/Spider-BQG/</url>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_content</span>(<span class="hljs-params">target</span>):</span><br>    req = requests.get(url=target)<br>    req.encoding = <span class="hljs-string">&#x27;utf-8&#x27;</span><br>    html = req.text<br>    bf = BeautifulSoup(html, <span class="hljs-string">&#x27;lxml&#x27;</span>)<br>    texts = bf.find(<span class="hljs-string">&#x27;div&#x27;</span>, <span class="hljs-built_in">id</span>=<span class="hljs-string">&#x27;content&#x27;</span>)<br>    content = texts.text.strip().split(<span class="hljs-string">&#x27;\xa0&#x27;</span> * <span class="hljs-number">4</span>)<br>    <span class="hljs-keyword">return</span> content<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">spider</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, book_name, target</span>):</span><br>        self.__book_name = book_name<br>        self.__target = target<br>        self.__server = <span class="hljs-string">&#x27;https://www.xsbiquge.com&#x27;</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">do_project</span>(<span class="hljs-params">self</span>):</span><br>        req = requests.get(url=self.__target)<br>        req.encoding = <span class="hljs-string">&#x27;utf-8&#x27;</span><br>        html = req.text<br>        chapter_bs = BeautifulSoup(html, <span class="hljs-string">&#x27;lxml&#x27;</span>)<br>        chapters = chapter_bs.find(<span class="hljs-string">&#x27;div&#x27;</span>, <span class="hljs-built_in">id</span>=<span class="hljs-string">&#x27;list&#x27;</span>)<br>        chapters = chapters.find_all(<span class="hljs-string">&#x27;a&#x27;</span>)<br>        <span class="hljs-keyword">for</span> chapter <span class="hljs-keyword">in</span> tqdm(chapters):<br>            chapter_name = chapter.string<br>            url = self.__server + chapter.get(<span class="hljs-string">&#x27;href&#x27;</span>)<br>            content = get_content(url)<br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.__book_name, <span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>                f.write(chapter_name)<br>                f.write(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>                f.write(<span class="hljs-string">&#x27;\n&#x27;</span>.join(content))<br>                f.write(<span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    spider1 = spider(<span class="hljs-string">&quot;book_name.txt&quot;</span>, <span class="hljs-string">&quot;https://www.xsbiquge.com/88_88080/&quot;</span>)<br>    spider1.do_project()<br>    print(<span class="hljs-string">&quot;è¿è¡Œç»“æŸ&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
      <category>Spider</category>
      
    </categories>
    
    
    <tags>
      
      <tag>bs4</tag>
      
      <tag>python</tag>
      
      <tag>re</tag>
      
      <tag>Spider</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Spider</title>
    <link href="/2021/01/01/Spider/"/>
    <url>/2021/01/01/Spider/</url>
    
    <content type="html"><![CDATA[<h1 id="Spider"><a href="#Spider" class="headerlink" title="Spider"></a>Spider</h1><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><h2 id="å®‰è£…åº“"><a href="#å®‰è£…åº“" class="headerlink" title="å®‰è£…åº“"></a>å®‰è£…åº“</h2><p>ç»ˆç«¯æ‰“å¼€scriptsæ ¹ç›®å½•ï¼Œâ€™.\pip install ***â€™å®‰è£…åº“</p><p>å¸¸ç”¨åº“: bs4 re urllib xlwt sqlite3</p><h2 id="å¼•ç”¨åº“"><a href="#å¼•ç”¨åº“" class="headerlink" title="å¼•ç”¨åº“"></a>å¼•ç”¨åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*-codeing:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> bs4  <span class="hljs-comment">#ç½‘é¡µè§£æã€è·å–æ•°æ®</span><br><span class="hljs-keyword">import</span> re  <span class="hljs-comment">#æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="hljs-keyword">import</span> urllib.request, urllib.error  <span class="hljs-comment">#æŒ‡å®šurlã€è·å–ç½‘é¡µæ•°æ®</span><br><span class="hljs-keyword">import</span> xlwt  <span class="hljs-comment">#è¿›è¡Œexcelæ“ä½œ</span><br><span class="hljs-keyword">import</span> sqlite3  <span class="hljs-comment">#è¿›è¡Œsqlitæ•°æ®åº“æ“ä½œ</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">aom</span>():</span><br>    print(<span class="hljs-string">&quot;*&quot;</span> * <span class="hljs-number">10</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    aom()<br></code></pre></td></tr></table></figure><h2 id="æ„å»ºæµç¨‹"><a href="#æ„å»ºæµç¨‹" class="headerlink" title="æ„å»ºæµç¨‹"></a>æ„å»ºæµç¨‹</h2><p>baseurl=â€<a href="https://movie.douban.com/top250?start=0&filter=">https://movie.douban.com/top250?start=0&amp;filter=</a>â€œ</p><p><a href="https://movie.douban.com/top250?start=0&filter=">è±†ç“£ç”µå½± Top 250</a></p><p>savepath=â€E:/py/douban.xlsâ€</p><ol><li><p>çˆ¬å–ç½‘é¡µ</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">datalist=GetData(baseurl)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br><span class="hljs-built_in">list</span>=[]<br><span class="hljs-comment">#é€ä¸€è§£æ</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span><br></code></pre></td></tr></table></figure></li><li><p>è§£ææ•°æ®</p></li><li><p>ä¿å­˜æ•°æ®</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">SaveData</span>(<span class="hljs-params">savepath</span>)</span><br></code></pre></td></tr></table></figure><h1 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h1></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">AskUrl</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-comment">#headç”¨äºä¼ªè£…ã€å‘æœåŠ¡ç«¯å‘æ¶ˆæ¯</span><br>    head = &#123;<br>        <span class="hljs-string">&quot;User-Agent&quot;</span>:<br>        <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36 Edg/87.0.664.66&quot;</span><br>    &#125;<br>    request = urllib.request.Request(url, headers=head)<br>    html = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        response = urllib.request.urlopen(request)<br>        html = response.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>        print(html)<br>    <span class="hljs-keyword">except</span> urllib.error.URLError <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;code&quot;</span>):<br>            print(e.code)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;reason&quot;</span>):<br>            print(e.reason)<br>    <span class="hljs-keyword">return</span> html<br></code></pre></td></tr></table></figure><h1 id="è§£ææ•°æ®"><a href="#è§£ææ•°æ®" class="headerlink" title="è§£ææ•°æ®"></a>è§£ææ•°æ®</h1><h2 id="è¡¥å……bs4"><a href="#è¡¥å……bs4" class="headerlink" title="è¡¥å……bs4"></a>è¡¥å……bs4</h2><p>bs4å°†Htmlæ–‡æ¡£è½¬æ¢æˆä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯pythonå¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡å¯ä»¥å½’çº³ä¸º4ç§</p><ol><li><p>-Tag</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><span class="hljs-comment">#ä¼šæŠŠç¬¬ä¸€ä¸ªæ ‡ç­¾æ‰“å°å‡ºæ¥</span><br><br>print(bs.title)<br>print(bs.a)<br>print(bs.link)<br>print(<span class="hljs-built_in">type</span>(bs.link))<br></code></pre></td></tr></table></figure><p> ä¼šæ‹¿åˆ°ç¬¬ä¸€ä¸ªæ ‡ç­¾</p></li><li><p>-NavigableString</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs.title.string)<br>print(<span class="hljs-built_in">type</span>(bs.title.string))<br></code></pre></td></tr></table></figure><p> ä¸Šé¢çš„ä¼šæ‰“å°æ³¨é‡Š</p><p> ä¸‹é¢ä¼šæ‰“å°å‡ºå­—å…¸</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs.a.attrs)<br>print(<span class="hljs-built_in">type</span>(bs.a.attrs))<br></code></pre></td></tr></table></figure></li><li><p>-BeautifulSoup</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs)<br></code></pre></td></tr></table></figure></li><li><p>-comment</p><p> ç¬¬ä¸€ç§æ‰“å°å‡ºæ³¨é‡Šå°±æ˜¯comment</p></li></ol><h2 id="èŠ‚ç‚¹çš„è·å–"><a href="#èŠ‚ç‚¹çš„è·å–" class="headerlink" title="èŠ‚ç‚¹çš„è·å–"></a>èŠ‚ç‚¹çš„è·å–</h2><h3 id="æ–‡æ¡£çš„éå†"><a href="#æ–‡æ¡£çš„éå†" class="headerlink" title="æ–‡æ¡£çš„éå†"></a>æ–‡æ¡£çš„éå†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs.head.contents[<span class="hljs-number">0</span>])<br></code></pre></td></tr></table></figure><p>contentsæ˜¯ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ </p><h3 id="æ–‡æ¡£çš„æœç´¢"><a href="#æ–‡æ¡£çš„æœç´¢" class="headerlink" title="æ–‡æ¡£çš„æœç´¢"></a>æ–‡æ¡£çš„æœç´¢</h3><ol><li><p>find_allâ€”å­—ç¬¦ä¸²è¿‡æ»¤ã€ä¼šæŸ¥æ‰¾ä¸å­—ç¬¦ä¸²å®Œå…¨ä¸€è‡´çš„æ ‡ç­¾</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>t_list = bs.find_all(<span class="hljs-string">&quot;a&quot;</span>)<br>print(t_list)<br></code></pre></td></tr></table></figure><ol><li><p>æ­£åˆ™è¡¨è¾¾å¼æœç´¢ã€ä½¿ç”¨search()æ–¹æ³•æœç´¢ã€æŠŠåŒ…å«açš„éƒ½æ‹¿å‡ºæ¥</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> re<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>t_list = bs.find_all(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;a&quot;</span>))<br>print(t_list)<br></code></pre></td></tr></table></figure></li><li><p>æ–¹æ³•ï¼šä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®å‡½æ•°çš„è¦æ±‚æ¥æœç´¢</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> re<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_name_exist</span>(<span class="hljs-params">tag</span>):</span><br>    <span class="hljs-keyword">return</span> tag.<span class="hljs-built_in">hasattr</span>(<span class="hljs-string">&quot;name&quot;</span>)<br><br>t_list = bs.find_all(is_name_exist)<br><br>print(t_list)<br></code></pre></td></tr></table></figure></li></ol></li><li><p>kwargs_____å‚æ•°</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> re<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>t_list = bs.find_all(<span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;head&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="è¡¥å……æ­£åˆ™è¡¨è¾¾å¼"><a href="#è¡¥å……æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="è¡¥å……æ­£åˆ™è¡¨è¾¾å¼"></a>è¡¥å……æ­£åˆ™è¡¨è¾¾å¼</h2></li></ol><p><a href="https://www.bilibili.com/video/BV12E411A7ZQ?p=22"></a></p><p><a href="https://www.cnblogs.com/dreamingbaobei/p/9717234.html">å²ä¸Šæœ€å…¨å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨</a></p><p><a href="Spider%2074d04c2785984ec0a50e036a4a41e102/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6%206ef815be95ee46bc90e8b2a4e93d312b.csv">å¸¸ç”¨æ“ä½œç¬¦</a></p><p><a href="Spider%2074d04c2785984ec0a50e036a4a41e102/Re%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%20bc8815fda34b42e083b77b30d2b77a90.csv">Reåº“çš„ä½¿ç”¨</a></p><p><a href="Spider%2074d04c2785984ec0a50e036a4a41e102/Re%E5%BA%93%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6%20fe84e1a330d64ec7b0aa3f61523264c1.csv">Reåº“çš„ä¿®é¥°ç¬¦</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>pat = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;AA&quot;</span>)  <span class="hljs-comment">#æ­¤å¤„AAæ˜¯æ­£åˆ™è¡¨è¾¾å¼</span><br>m = pat.search(<span class="hljs-string">&quot;ABCFFFAA&quot;</span>)  <span class="hljs-comment">#è¢«åŒ¹é…çš„</span><br>print(m) <span class="hljs-comment">#å·¦é—­å³å¼€</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„searchåªä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä¸²ï¼Œä¸‹é¢æ˜¯ç¬¬äºŒç§å†™æ³•ï¼Œå‰é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.search(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;fsaa&quot;</span>))<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯findall</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.findall(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;faasaa&quot;</span>))<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.findall(<span class="hljs-string">&quot;[A-Z]&quot;</span>, <span class="hljs-string">&quot;faCasBaaAA&quot;</span>))<br></code></pre></td></tr></table></figure><p>subçš„ä½¿ç”¨ï¼Œåœ¨ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç”¨ç¬¬äºŒä¸ªå­—ç¬¦æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.sub(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;asdfagfsg&quot;</span>))<br></code></pre></td></tr></table></figure><p>å»ºè®®åœ¨æ­£åˆ™è¡¨è¾¾å¼å‰é¢åŠ ä¸Šrï¼Œä¸ç”¨æ‹…å¿ƒè½¬ä¹‰å­—ç¬¦çš„é—®é¢˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.sub(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">r&quot;/A/&quot;</span>, <span class="hljs-string">&quot;asdfagfsg&quot;</span>))  <br></code></pre></td></tr></table></figure><h2 id="æ­£åˆ™æå–"><a href="#æ­£åˆ™æå–" class="headerlink" title="æ­£åˆ™æå–"></a>æ­£åˆ™æå–</h2><p><a href="https://www.bilibili.com/video/BV12E411A7ZQ?t=7&p=23"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">findlink = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&#x27;</span>)  <span class="hljs-comment">#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€è¡¨ç¤ºè§„åˆ™å­—ç¬¦ä¸²çš„æ¨¡å¼</span><br>findImgsrc = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;img.*src=&quot;(.*?)&quot;&#x27;</span>, re.S)<br>findMovieName = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;title&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findScore = re.<span class="hljs-built_in">compile</span>(<br>    <span class="hljs-string">r&#x27;&lt;span class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findIformation = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;inq&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findDitail = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;p class=&quot;&quot;&gt;(.*)&lt;/p&gt;&#x27;</span>, re.S)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br>    datalist = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>):<br>        url = baseurl + <span class="hljs-built_in">str</span>(i)<br>        html = AskUrl(url)  <span class="hljs-comment">#ä¿å­˜</span><br>        <span class="hljs-comment">#è§£æ</span><br>        soup = bs4.BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&quot;item&quot;</span>):<br>            <span class="hljs-comment">#print(item)  #ä¸‹é¢æ˜¯ä¿å­˜</span><br>            <span class="hljs-comment">#break</span><br>            data = []<br>            item = <span class="hljs-built_in">str</span>(item)<br>            link = re.findall(findlink, item)[<span class="hljs-number">0</span>]  <span class="hljs-comment">#é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾å­—ç¬¦ä¸²,0è¡¨ç¤ºä¸¤ä¸ªé‡Œé¢çš„ç¬¬ä¸€ä¸ª</span><br>            <span class="hljs-comment">#print(link)</span><br>            img = re.findall(findImgsrc, item)[<span class="hljs-number">0</span>]<br>            <span class="hljs-comment">#print(img)</span><br>            name = re.findall(findMovieName, item)[<span class="hljs-number">0</span>]<br>            <span class="hljs-comment">#print(name)</span><br>            score = re.findall(findScore, item)[<span class="hljs-number">0</span>]<br>            print(score)<br>            <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">return</span> datalist<br></code></pre></td></tr></table></figure><h2 id="æ ‡ç­¾è§£æ"><a href="#æ ‡ç­¾è§£æ" class="headerlink" title="æ ‡ç­¾è§£æ"></a>æ ‡ç­¾è§£æ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br>    datalist = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>):<br>        url = baseurl + <span class="hljs-built_in">str</span>(i)<br>        html = AskUrl(url)  <span class="hljs-comment">#ä¿å­˜</span><br>        <span class="hljs-comment">#è§£æ</span><br>        soup = bs4.BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&quot;item&quot;</span>):<br>            <span class="hljs-comment">#print(item)  #ä¸‹é¢æ˜¯ä¿å­˜</span><br>            <span class="hljs-comment">#break</span><br>            data = []<br>            item = <span class="hljs-built_in">str</span>(item)<br>            link = re.findall(findlink, item)[<span class="hljs-number">0</span>]  <span class="hljs-comment">#é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾å­—ç¬¦ä¸²,0è¡¨ç¤ºä¸¤ä¸ªé‡Œé¢çš„ç¬¬ä¸€ä¸ª</span><br>            data.append(link)<br>            <span class="hljs-comment">#print(link)</span><br>            img = re.findall(findImgsrc, item)[<span class="hljs-number">0</span>]<br>            data.append(img)<br>            <span class="hljs-comment">#print(img)</span><br>            name = re.findall(findMovieName, item)<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">len</span>(name) == <span class="hljs-number">2</span>):<br>                ctitle = name[<span class="hljs-number">0</span>]<br>                data.append(ctitle)<br>                otitle = name[<span class="hljs-number">1</span>].replace(<span class="hljs-string">&quot;\xa0/\xa0&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>                <span class="hljs-comment">#print(otitle)</span><br>                data.append(otitle)<br>            <span class="hljs-keyword">else</span>:<br>                data.append(name[<span class="hljs-number">0</span>])<br>                data.append(<span class="hljs-string">&quot; &quot;</span>)<br>            <span class="hljs-comment">#print(name)</span><br>            score = re.findall(findScore, item)[<span class="hljs-number">0</span>]<br>            data.append(score)<br>            <span class="hljs-comment">#print(score)</span><br>            information = re.findall(findIformation, item)[<span class="hljs-number">0</span>]<br>            data.append(information.replace(<span class="hljs-string">&quot;ã€‚&quot;</span>, <span class="hljs-string">&quot;&quot;</span>))<br><br>            datalist.append(data)<br>            print(datalist)<br>    <span class="hljs-keyword">return</span> datalist<br></code></pre></td></tr></table></figure><h1 id="ä¿å­˜"><a href="#ä¿å­˜" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h1><h2 id="ä¿å­˜åˆ°excelä¸­"><a href="#ä¿å­˜åˆ°excelä¸­" class="headerlink" title="ä¿å­˜åˆ°excelä¸­"></a>ä¿å­˜åˆ°excelä¸­</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br>wookbook = xlwt.Workbook()<br>wooksheet = wookbook.add_sheet(<span class="hljs-string">&quot;sheet1&quot;</span>)<br>wooksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;Hello&quot;</span>)<br>wookbook.save(<span class="hljs-string">&quot;text.xls&quot;</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¹ä¹ä¹˜æ³•è¡¨ï¼Œç¤ºä¾‹pythonçš„xlwtçš„ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br>wookbook = xlwt.Workbook()<br>wooksheet = wookbook.add_sheet(<span class="hljs-string">&quot;sheet1&quot;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">9</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, i + <span class="hljs-number">1</span>):<br>        wooksheet.write(i, j, <span class="hljs-string">&quot;%d*%d=%d&quot;</span> % (i + <span class="hljs-number">1</span>, j + <span class="hljs-number">1</span>, (j + <span class="hljs-number">1</span>) * (i + <span class="hljs-number">1</span>)))<br>wookbook.save(<span class="hljs-string">&quot;1.xls&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*-codeing:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> bs4  <span class="hljs-comment">#ç½‘é¡µè§£æã€è·å–æ•°æ®</span><br><span class="hljs-keyword">import</span> re  <span class="hljs-comment">#æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="hljs-keyword">import</span> urllib.request, urllib.error  <span class="hljs-comment">#æŒ‡å®šurlã€è·å–ç½‘é¡µæ•°æ®</span><br><span class="hljs-keyword">import</span> xlwt  <span class="hljs-comment">#è¿›è¡Œexcelæ“ä½œ</span><br><span class="hljs-keyword">import</span> sqlite3  <span class="hljs-comment">#è¿›è¡Œsqlitæ•°æ®åº“æ“ä½œ</span><br><br>baseurl = <span class="hljs-string">&quot;https://movie.douban.com/top250?start=&quot;</span><br><br>datalist = []<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    GetData(baseurl)<br>    SaveData(datalist)<br><br>findlink = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&#x27;</span>)  <span class="hljs-comment">#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€è¡¨ç¤ºè§„åˆ™å­—ç¬¦ä¸²çš„æ¨¡å¼</span><br>findImgsrc = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;img.*src=&quot;(.*?)&quot;&#x27;</span>, re.S)<br>findMovieName = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;title&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findScore = re.<span class="hljs-built_in">compile</span>(<br>    <span class="hljs-string">r&#x27;&lt;span class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findIformation = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;inq&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>        url = baseurl + <span class="hljs-built_in">str</span>(i)<br>        html = AskUrl(url)  <span class="hljs-comment">#ä¿å­˜</span><br>        <span class="hljs-comment">#è§£æ</span><br>        soup = bs4.BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&quot;item&quot;</span>):<br>            <span class="hljs-comment">#print(item)  #ä¸‹é¢æ˜¯ä¿å­˜</span><br>            <span class="hljs-comment">#break</span><br>            data = []<br>            item = <span class="hljs-built_in">str</span>(item)<br>            link = re.findall(findlink, item)[<span class="hljs-number">0</span>]  <span class="hljs-comment">#é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾å­—ç¬¦ä¸²,0è¡¨ç¤ºä¸¤ä¸ªé‡Œé¢çš„ç¬¬ä¸€ä¸ª</span><br>            data.append(link)<br>            <span class="hljs-comment">#print(link)</span><br>            img = re.findall(findImgsrc, item)[<span class="hljs-number">0</span>]<br>            data.append(img)<br>            <span class="hljs-comment">#print(img)</span><br>            name = re.findall(findMovieName, item)<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">len</span>(name) == <span class="hljs-number">2</span>):<br>                ctitle = name[<span class="hljs-number">0</span>]<br>                data.append(ctitle)<br>                otitle = name[<span class="hljs-number">1</span>].replace(<span class="hljs-string">&quot;\xa0/\xa0&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>                <span class="hljs-comment">#print(otitle)</span><br>                data.append(otitle)<br>            <span class="hljs-keyword">else</span>:<br>                data.append(name[<span class="hljs-number">0</span>])<br>                data.append(<span class="hljs-string">&quot; &quot;</span>)<br>            <span class="hljs-comment">#print(name)</span><br>            score = re.findall(findScore, item)[<span class="hljs-number">0</span>]<br>            data.append(score)<br>            <span class="hljs-comment">#print(score)</span><br>            information = re.findall(findIformation, item)[<span class="hljs-number">0</span>]<br>            data.append(information.replace(<span class="hljs-string">&quot;ã€‚&quot;</span>, <span class="hljs-string">&quot;&quot;</span>))<br><br>            datalist.append(data)<br>            <span class="hljs-comment">#print(datalist)</span><br>    <span class="hljs-keyword">return</span> datalist<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">AskUrl</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-comment">#headç”¨äºä¼ªè£…ã€å‘æœåŠ¡ç«¯å‘æ¶ˆæ¯</span><br>    head = &#123;<br>        <span class="hljs-string">&quot;User-Agent&quot;</span>:<br>        <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36 Edg/87.0.664.66&quot;</span><br>    &#125;<br>    request = urllib.request.Request(url, headers=head)<br>    html = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        response = urllib.request.urlopen(request)<br>        html = response.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>        <span class="hljs-comment">#print(html)</span><br>    <span class="hljs-keyword">except</span> urllib.error.URLError <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;code&quot;</span>):<br>            print(e.code)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;reason&quot;</span>):<br>            print(e.reason)<br>    <span class="hljs-keyword">return</span> html<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">SaveData</span>(<span class="hljs-params">datalist</span>):</span><br>    wookbook = xlwt.Workbook(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)  <span class="hljs-comment">#åˆ›å»º</span><br>    wooksheet = wookbook.add_sheet(<span class="hljs-string">&quot;sheet1&quot;</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">250</span>):<br>        print(<span class="hljs-string">&quot;ç¬¬%dæ¡&quot;</span> % (i + <span class="hljs-number">1</span>))<br>        data = datalist[i]<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>):<br>            wooksheet.write(i, j, data[j])<br>    wookbook.save(<span class="hljs-string">&quot;douban.xls&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h1 id="SQliteéƒ¨åˆ†"><a href="#SQliteéƒ¨åˆ†" class="headerlink" title="SQliteéƒ¨åˆ†"></a>SQliteéƒ¨åˆ†</h1><p>ç»“æ„å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">**<span class="hljs-keyword">import</span> sqlite3<br>conn = sqlite3.connect(<span class="hljs-string">&quot;test.db&quot;</span>)<br>print(<span class="hljs-string">&quot;Successfully open&quot;</span>)<br>c = conn.cursor()<br>sql = <span class="hljs-string">&quot;&quot;</span><br>c.execute(sql)<br>conn.commit()<br>conn.close()<br>print(<span class="hljs-string">&quot;Successfully create&quot;</span>)**<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
      <category>Spider</category>
      
    </categories>
    
    
    <tags>
      
      <tag>bs4</tag>
      
      <tag>urllib</tag>
      
      <tag>python</tag>
      
      <tag>re</tag>
      
      <tag>xlwt</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢</title>
    <link href="/2020/01/29/%E5%A6%82%E4%BD%95%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AAhexo%E5%8D%9A%E5%AE%A2/"/>
    <url>/2020/01/29/%E5%A6%82%E4%BD%95%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AAhexo%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢"><a href="#å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢" class="headerlink" title="å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢"></a>å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ª<em>hexo</em>åšå®¢</h1><p><strong>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚</strong></p><p>Hexo ä½¿ç”¨ <a href="http://daringfireball.net/projects/markdown/">Markdown</a>ï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥ä½¿ç”¨github pagesæä¾›çš„å…è´¹æœåŠ¡å™¨</p><h2 id="å®‰è£…node-js"><a href="#å®‰è£…node-js" class="headerlink" title="å®‰è£…node.js"></a>å®‰è£…node.js</h2><p>å®‰è£…<a href="https://nodejs.org/en/">Node.js</a>-&gt;æ‰“å¼€cmdï¼Œè¾“å…¥node -vå’Œnpm -vï¼Œéƒ½å‡ºç°ç‰ˆæœ¬å·å°±è¡¨ç¤ºå®‰è£…æˆåŠŸ</p><blockquote><p>Node.jsæ˜¯ä¸€ä¸ªJavaScriptçš„è¿è¡Œç¯å¢ƒï¼Œä½¿ç”µè„‘èƒ½å¤ŸæˆåŠŸè¿è¡Œhexo</p></blockquote><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br></code></pre></td></tr></table></figure><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> -v<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><p>å®‰è£…<a href="https://git-scm.com/">Git</a>-&gt;è¿™é‡Œæ˜¯æ•™ç¨‹<a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git">&gt;_&lt;</a></p><blockquote><p>Gitå¯ä»¥è®©æˆ‘ä»¬å‘GitHub pagesä¸Šä¼ æˆ‘ä»¬çš„åšå®¢</p></blockquote><h2 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h2><p>å¿…å¤‡åº”ç”¨å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥åŠ¨æ‰‹ä½¿ç”¨npmå®‰è£…hexoå•¦ï¼æ‰“å¼€cmdï¼Œè¾“å…¥ä»¥ä¸‹</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆå†è¾“å…¥</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo -v</span><br></code></pre></td></tr></table></figure><p>å‡ºç°ç‰ˆæœ¬å·è¡¨ç¤ºæˆåŠŸ</p><h2 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h2><p>åœ¨GitHubçš„your repositoryä¸­æ–°å»ºä¸€ä¸ªåä¸ºGitHubç”¨æˆ·å.github.io çš„repository</p><p>æ–°å»ºå®Œæˆç‚¹å¼€clone or downloadå‹ç¼©åŒ…åˆ°æœ¬åœ°-&gt;è§£å‹å¹¶ä¸”æ”¾ç½®åœ¨ä¸€ä¸ªè‡ªå·±æ–°å»ºçš„æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä½ çš„åšå®¢å­˜å‚¨çš„ä½ç½®-&gt;æ”¾ç½®å¥½äº†å°±ç”¨cmdåœ¨è¯¥è·¯å¾„å»ºç«™ï¼Œè¾“å…¥</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">hexo <span class="hljs-keyword">init</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å®Œæˆä¹‹åï¼ŒæŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­ä¼šå‡ºç°ä»¥ä¸‹å†…å®¹</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sqf">.<br>â”œâ”€â”€ <span class="hljs-variable">_config</span>.yml<br>â”œâ”€â”€ package.json<br>â”œâ”€â”€ scaffolds<br>â”œâ”€â”€ source<br>|   â”œâ”€â”€ <span class="hljs-variable">_drafts</span><br>|   â””â”€â”€ <span class="hljs-variable">_posts</span><br>â””â”€â”€ themes<br></code></pre></td></tr></table></figure><blockquote><p>_config.ymlæ˜¯ç½‘ç«™çš„é…ç½®ä¿¡æ¯ï¼Œå¯åœ¨è¿™é‡Œé…ç½®å¤§éƒ¨åˆ†å‚æ•°</p><p>package.jsonæ˜¯åº”ç”¨ç¨‹åºä¿¡æ¯ï¼Œä¸€èˆ¬æ— éœ€æ”¹åŠ¨</p><p>scaffoldsæ˜¯æ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œæ”¹åŠ¨è¿™ä¸ªçš„front-matterä»¥åæ‰€æœ‰æ–°å»ºçš„postéƒ½ä¼šåŒ…å«è¿™éƒ¨åˆ†</p><p>themesæ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œhexoä¼šæ ¹æ®ä¸»é¢˜ç”Ÿæˆé¡µé¢</p><p>sourceæ–‡ä»¶å¤¹å­˜ä¸€äº›é¡µé¢ï¼Œæˆ‘ä»¬çš„åšæ–‡ä¼šå­˜åœ¨/source/_postsä¸­</p></blockquote><p>ç‚¹å‡»è¿™ä¸ªæŸ¥çœ‹hexoå®˜ç½‘çš„è¯¦ç»†æè¿°<a href="https://hexo.io/zh-cn/docs/configuration">&gt;_&lt;</a></p><p>å¸¸ç”¨çš„hexoå‘½ä»¤</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">hexo g  <span class="hljs-regexp">//</span>ç”Ÿæˆç½‘é¡µ<br>hexo s  <span class="hljs-regexp">//</span>é¢„è§ˆç½‘é¡µ<br>hexo d  <span class="hljs-regexp">//</span>ä¸Šä¼ éƒ¨ç½²<br>hexo new <span class="hljs-string">&quot;title&quot;</span> <span class="hljs-regexp">//</span>ç”Ÿæˆæ–°æ–‡ç« <br></code></pre></td></tr></table></figure><h2 id="å‘è¡¨æ–‡ç« "><a href="#å‘è¡¨æ–‡ç« " class="headerlink" title="å‘è¡¨æ–‡ç« "></a>å‘è¡¨æ–‡ç« </h2><p>æœ€åŸºæœ¬çš„å·²ç»å®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬è¦åšçš„å°±æ˜¯å‘è¡¨ä¸€ç¯‡è‡ªå·±çš„åšæ–‡ï¼š</p><p>â€‹    æˆ‘ä»¬åšæ–‡è¦ç”¨markdownè¯­æ³•å†™æˆï¼Œå¯ä»¥é€‰æ‹©ç®€æ´åˆèˆ’æœçš„<a href="https://www.typora.io/">typora</a>æ¥è¿›è¡Œç¼–è¾‘ï¼Œç¼–è¾‘å®Œæˆåå°±å¯ä»¥ç”Ÿæˆä¸Šä¼ é¢„è§ˆã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><p>hexo<a href="https://hexo.io/docs/">å®˜æ–¹æ–‡æ¡£</a></p></blockquote><blockquote><p>Fluid<a href="https://hexo.fluid-dev.com/docs/guide/#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90">ä¸»é¢˜æ–‡æ¡£</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>ä¹Œä¸ƒå…«ç³Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hello world</title>
    <link href="/2020/01/28/hello-world/"/>
    <url>/2020/01/28/hello-world/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢"><a href="#æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢" class="headerlink" title="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢"></a>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</h1><p>åšå®¢ç”¨çš„æ˜¯hexoçš„æ¡†æ¶ï¼ŒFluidä¸»é¢˜ï¼Œæ¥ä¸‹æ¥çš„å¤§å­¦ç”Ÿæ´»é‡Œå°±ç”¨è®°å½•äº›æœ‰è¶£çš„ä¸œè¥¿å­ï¼</p>]]></content>
    
    
    <categories>
      
      <category>ä¹Œä¸ƒå…«ç³Ÿ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
