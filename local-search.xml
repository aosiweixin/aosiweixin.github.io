<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>forkåˆ«äººä»£ç é‡åˆ°æ— æ³•æ‰“å¼€æºæ–‡ä»¶stdafx.hçš„è§£å†³åŠæ³•</title>
    <link href="/2020/03/10/vs%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E6%BA%90%E6%96%87%E4%BB%B6stdafx-h%E8%A7%A3%E5%86%B3/"/>
    <url>/2020/03/10/vs%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E6%BA%90%E6%96%87%E4%BB%B6stdafx-h%E8%A7%A3%E5%86%B3/</url>
    
    <content type="html"><![CDATA[<p>åœ¨forkè€å¸ˆä»£ğŸæ—¶å€™ï¼ŒæŠ¥é”™æ— æ³•æ‰“å¼€æºæ–‡ä»¶stdafx.hï¼Œçœäº‹ç‚¹å¯ä»¥ç›´æ¥åˆ æ‰ï¼Œä½†è¿˜å¯ä»¥åœ¨é¡¹ç›®é‡ŒåŠ ä¸€äº›ä¸œè¥¿æ¥è§£å†³ã€‚</p><p>åˆ†åˆ«æ˜¯è§£å†³æ–¹æ¡ˆä¸­ï¼šå¤´æ–‡ä»¶é‡ŒåŠ ä¸¤ä¸ª.hæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯stdafx.hå’Œtargetver.h</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*stdafx.h*/</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><br><span class="hljs-comment">// stdafx.h : æ ‡å‡†ç³»ç»ŸåŒ…å«æ–‡ä»¶çš„åŒ…å«æ–‡ä»¶ï¼Œ</span><br><span class="hljs-comment">// æˆ–æ˜¯ç»å¸¸ä½¿ç”¨ä½†ä¸å¸¸æ›´æ”¹çš„</span><br><span class="hljs-comment">// ç‰¹å®šäºé¡¹ç›®çš„åŒ…å«æ–‡ä»¶</span><br><span class="hljs-comment">//</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;targetver.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> WIN32_LEAN_AND_MEAN             <span class="hljs-comment">//  ä» Windows å¤´æ–‡ä»¶ä¸­æ’é™¤æå°‘ä½¿ç”¨çš„ä¿¡æ¯</span></span><br><span class="hljs-comment">// Windows å¤´æ–‡ä»¶:</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;windows.h&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*targetver*/</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><br><span class="hljs-comment">// åŒ…æ‹¬ SDKDDKVer.h å°†å®šä¹‰å¯ç”¨çš„æœ€é«˜ç‰ˆæœ¬çš„ Windows å¹³å°ã€‚</span><br><br><span class="hljs-comment">// å¦‚æœè¦ä¸ºä»¥å‰çš„ Windows å¹³å°ç”Ÿæˆåº”ç”¨ç¨‹åºï¼Œè¯·åŒ…æ‹¬ WinSDKVer.hï¼Œå¹¶å°†</span><br><span class="hljs-comment">// WIN32_WINNT å®è®¾ç½®ä¸ºè¦æ”¯æŒçš„å¹³å°ï¼Œç„¶åå†åŒ…æ‹¬ SDKDDKVer.hã€‚</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SDKDDKVer.h&gt;</span></span><br></code></pre></td></tr></table></figure><p>æºæ–‡ä»¶é‡ŒåŠ ä¸¤ä¸ªï¼šdllmain.cppå’Œstdafx.cpp</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*dllmain.cpp*/</span><br><span class="hljs-comment">// dllmain.cpp : å®šä¹‰ DLL åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;stdafx.h&quot;</span></span><br><br><span class="hljs-function">BOOL APIENTRY <span class="hljs-title">DllMain</span><span class="hljs-params">(HMODULE hModule,</span></span><br><span class="hljs-function"><span class="hljs-params">    DWORD  ul_reason_for_call,</span></span><br><span class="hljs-function"><span class="hljs-params">    LPVOID lpReserved</span></span><br><span class="hljs-function"><span class="hljs-params">)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">switch</span> (ul_reason_for_call)<br>    &#123;<br>    <span class="hljs-keyword">case</span> DLL_PROCESS_ATTACH:<br>    <span class="hljs-keyword">case</span> DLL_THREAD_ATTACH:<br>    <span class="hljs-keyword">case</span> DLL_THREAD_DETACH:<br>    <span class="hljs-keyword">case</span> DLL_PROCESS_DETACH:<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> TRUE;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*stdafx.cpp*/</span><br><span class="hljs-comment">// stdafx.cpp : åªåŒ…æ‹¬æ ‡å‡†åŒ…å«æ–‡ä»¶çš„æºæ–‡ä»¶</span><br><span class="hljs-comment">// TestCPPDLL.pch å°†ä½œä¸ºé¢„ç¼–è¯‘å¤´</span><br><span class="hljs-comment">// stdafx.obj å°†åŒ…å«é¢„ç¼–è¯‘ç±»å‹ä¿¡æ¯</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;stdafx.h&quot;</span></span><br><br><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>  åœ¨ STDAFX.H ä¸­</span><br><span class="hljs-comment">// å¼•ç”¨ä»»ä½•æ‰€éœ€çš„é™„åŠ å¤´æ–‡ä»¶ï¼Œè€Œä¸æ˜¯åœ¨æ­¤æ–‡ä»¶ä¸­å¼•ç”¨</span><br></code></pre></td></tr></table></figure><p>é‡æ–°ç¼–è¯‘è¿è¡Œå°±ä¸ä¼šæŠ¥é”™å•¦ï¼</p>]]></content>
    
    
    <categories>
      
      <category>c</category>
      
    </categories>
    
    
    <tags>
      
      <tag>c</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢</title>
    <link href="/2020/01/29/%E5%A6%82%E4%BD%95%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AAhexo%E5%8D%9A%E5%AE%A2/"/>
    <url>/2020/01/29/%E5%A6%82%E4%BD%95%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AAhexo%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢"><a href="#å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢" class="headerlink" title="å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªhexoåšå®¢"></a>å¦‚ä½•æ‹¥æœ‰ä¸€ä¸ª<em>hexo</em>åšå®¢</h1><p><strong>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚</strong></p><p>Hexo ä½¿ç”¨ <a href="http://daringfireball.net/projects/markdown/">Markdown</a>ï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥ä½¿ç”¨github pagesæä¾›çš„å…è´¹æœåŠ¡å™¨</p><h2 id="å®‰è£…node-js"><a href="#å®‰è£…node-js" class="headerlink" title="å®‰è£…node.js"></a>å®‰è£…node.js</h2><p>å®‰è£…<a href="https://nodejs.org/en/">Node.js</a>-&gt;æ‰“å¼€cmdï¼Œè¾“å…¥node -vå’Œnpm -vï¼Œéƒ½å‡ºç°ç‰ˆæœ¬å·å°±è¡¨ç¤ºå®‰è£…æˆåŠŸ</p><blockquote><p>Node.jsæ˜¯ä¸€ä¸ªJavaScriptçš„è¿è¡Œç¯å¢ƒï¼Œä½¿ç”µè„‘èƒ½å¤ŸæˆåŠŸè¿è¡Œhexo</p></blockquote><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br></code></pre></td></tr></table></figure><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> -v<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><p>å®‰è£…<a href="https://git-scm.com/">Git</a>-&gt;è¿™é‡Œæ˜¯æ•™ç¨‹<a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git">&gt;_&lt;</a></p><blockquote><p>Gitå¯ä»¥è®©æˆ‘ä»¬å‘GitHub pagesä¸Šä¼ æˆ‘ä»¬çš„åšå®¢</p></blockquote><h2 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h2><p>å¿…å¤‡åº”ç”¨å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥åŠ¨æ‰‹ä½¿ç”¨npmå®‰è£…hexoå•¦ï¼æ‰“å¼€cmdï¼Œè¾“å…¥ä»¥ä¸‹</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆå†è¾“å…¥</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo -v</span><br></code></pre></td></tr></table></figure><p>å‡ºç°ç‰ˆæœ¬å·è¡¨ç¤ºæˆåŠŸ</p><h2 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h2><p>åœ¨GitHubçš„your repositoryä¸­æ–°å»ºä¸€ä¸ªåä¸ºGitHubç”¨æˆ·å.github.io çš„repository</p><p>æ–°å»ºå®Œæˆç‚¹å¼€clone or downloadå‹ç¼©åŒ…åˆ°æœ¬åœ°-&gt;è§£å‹å¹¶ä¸”æ”¾ç½®åœ¨ä¸€ä¸ªè‡ªå·±æ–°å»ºçš„æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä½ çš„åšå®¢å­˜å‚¨çš„ä½ç½®-&gt;æ”¾ç½®å¥½äº†å°±ç”¨cmdåœ¨è¯¥è·¯å¾„å»ºç«™ï¼Œè¾“å…¥</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">hexo <span class="hljs-keyword">init</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å®Œæˆä¹‹åï¼ŒæŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­ä¼šå‡ºç°ä»¥ä¸‹å†…å®¹</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sqf">.<br>â”œâ”€â”€ <span class="hljs-variable">_config</span>.yml<br>â”œâ”€â”€ package.json<br>â”œâ”€â”€ scaffolds<br>â”œâ”€â”€ source<br>|   â”œâ”€â”€ <span class="hljs-variable">_drafts</span><br>|   â””â”€â”€ <span class="hljs-variable">_posts</span><br>â””â”€â”€ themes<br></code></pre></td></tr></table></figure><blockquote><p>_config.ymlæ˜¯ç½‘ç«™çš„é…ç½®ä¿¡æ¯ï¼Œå¯åœ¨è¿™é‡Œé…ç½®å¤§éƒ¨åˆ†å‚æ•°</p><p>package.jsonæ˜¯åº”ç”¨ç¨‹åºä¿¡æ¯ï¼Œä¸€èˆ¬æ— éœ€æ”¹åŠ¨</p><p>scaffoldsæ˜¯æ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œæ”¹åŠ¨è¿™ä¸ªçš„front-matterä»¥åæ‰€æœ‰æ–°å»ºçš„postéƒ½ä¼šåŒ…å«è¿™éƒ¨åˆ†</p><p>themesæ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œhexoä¼šæ ¹æ®ä¸»é¢˜ç”Ÿæˆé¡µé¢</p><p>sourceæ–‡ä»¶å¤¹å­˜ä¸€äº›é¡µé¢ï¼Œæˆ‘ä»¬çš„åšæ–‡ä¼šå­˜åœ¨/source/_postsä¸­</p></blockquote><p>ç‚¹å‡»è¿™ä¸ªæŸ¥çœ‹hexoå®˜ç½‘çš„è¯¦ç»†æè¿°<a href="https://hexo.io/zh-cn/docs/configuration">&gt;_&lt;</a></p><p>å¸¸ç”¨çš„hexoå‘½ä»¤</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">hexo g  <span class="hljs-regexp">//</span>ç”Ÿæˆç½‘é¡µ<br>hexo s  <span class="hljs-regexp">//</span>é¢„è§ˆç½‘é¡µ<br>hexo d  <span class="hljs-regexp">//</span>ä¸Šä¼ éƒ¨ç½²<br>hexo new <span class="hljs-string">&quot;title&quot;</span> <span class="hljs-regexp">//</span>ç”Ÿæˆæ–°æ–‡ç« <br></code></pre></td></tr></table></figure><h2 id="å‘è¡¨æ–‡ç« "><a href="#å‘è¡¨æ–‡ç« " class="headerlink" title="å‘è¡¨æ–‡ç« "></a>å‘è¡¨æ–‡ç« </h2><p>æœ€åŸºæœ¬çš„å·²ç»å®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬è¦åšçš„å°±æ˜¯å‘è¡¨ä¸€ç¯‡è‡ªå·±çš„åšæ–‡ï¼š</p><p>â€‹    æˆ‘ä»¬åšæ–‡è¦ç”¨markdownè¯­æ³•å†™æˆï¼Œå¯ä»¥é€‰æ‹©ç®€æ´åˆèˆ’æœçš„<a href="https://www.typora.io/">typora</a>æ¥è¿›è¡Œç¼–è¾‘ï¼Œç¼–è¾‘å®Œæˆåå°±å¯ä»¥ç”Ÿæˆä¸Šä¼ é¢„è§ˆã€‚</p>]]></content>
    
    
    <categories>
      
      <category>hexoåšå®¢</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>hello world</title>
    <link href="/2020/01/29/hello-world/"/>
    <url>/2020/01/29/hello-world/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢"><a href="#æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢" class="headerlink" title="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢"></a>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</h1><p>ç»è¿‡å¤šé‡åŠªåŠ›ï¼ˆ<del>æ˜¯æˆ‘å¤ªèœ</del>ï¼‰ï¼Œç”¨çš„æ˜¯hexoçš„æ¡†æ¶ï¼Œå¤§ä½¬JerryCçš„butterflyä¸»é¢˜ï¼Œè¿™ä¸ªå°ç©æ„<del>ç»ˆäº</del>éƒ¨åˆ†gudaoå¥½äº†ï¼Œæ¥ä¸‹æ¥çš„å¤§å­¦ç”Ÿæ´»é‡Œå°±ç”¨è®°å½•äº›æœ‰è¶£çš„ä¸œè¥¿å­ï¼</p><p> <img src="https://pic.downk.cc/item/5e30fc4d2fb38b8c3cdcb93d.gif"></p>]]></content>
    
    
    <categories>
      
      <category>ä¹Œä¸ƒå…«ç³Ÿ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Spider</title>
    <link href="/2020/01/29/Spider/"/>
    <url>/2020/01/29/Spider/</url>
    
    <content type="html"><![CDATA[<h1 id="Spider"><a href="#Spider" class="headerlink" title="Spider"></a>Spider</h1><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><h2 id="å®‰è£…åº“"><a href="#å®‰è£…åº“" class="headerlink" title="å®‰è£…åº“"></a>å®‰è£…åº“</h2><p>ç»ˆç«¯æ‰“å¼€scriptsæ ¹ç›®å½•ï¼Œâ€™.\pip install ***â€™å®‰è£…åº“</p><p>å¸¸ç”¨åº“: bs4 re urllib xlwt sqlite3</p><h2 id="å¼•ç”¨åº“"><a href="#å¼•ç”¨åº“" class="headerlink" title="å¼•ç”¨åº“"></a>å¼•ç”¨åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*-codeing:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> bs4  <span class="hljs-comment">#ç½‘é¡µè§£æã€è·å–æ•°æ®</span><br><span class="hljs-keyword">import</span> re  <span class="hljs-comment">#æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="hljs-keyword">import</span> urllib.request, urllib.error  <span class="hljs-comment">#æŒ‡å®šurlã€è·å–ç½‘é¡µæ•°æ®</span><br><span class="hljs-keyword">import</span> xlwt  <span class="hljs-comment">#è¿›è¡Œexcelæ“ä½œ</span><br><span class="hljs-keyword">import</span> sqlite3  <span class="hljs-comment">#è¿›è¡Œsqlitæ•°æ®åº“æ“ä½œ</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">aom</span>():</span><br>    print(<span class="hljs-string">&quot;*&quot;</span> * <span class="hljs-number">10</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    aom()<br></code></pre></td></tr></table></figure><h2 id="æ„å»ºæµç¨‹"><a href="#æ„å»ºæµç¨‹" class="headerlink" title="æ„å»ºæµç¨‹"></a>æ„å»ºæµç¨‹</h2><p>baseurl=â€<a href="https://movie.douban.com/top250?start=0&filter=">https://movie.douban.com/top250?start=0&amp;filter=</a>â€œ</p><p><a href="https://movie.douban.com/top250?start=0&filter=">è±†ç“£ç”µå½± Top 250</a></p><p>savepath=â€E:/py/douban.xlsâ€</p><ol><li><p>çˆ¬å–ç½‘é¡µ</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">datalist=GetData(baseurl)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br><span class="hljs-built_in">list</span>=[]<br><span class="hljs-comment">#é€ä¸€è§£æ</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span><br></code></pre></td></tr></table></figure></li><li><p>è§£ææ•°æ®</p></li><li><p>ä¿å­˜æ•°æ®</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">SaveData</span>(<span class="hljs-params">savepath</span>)</span><br></code></pre></td></tr></table></figure><h1 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h1></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">AskUrl</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-comment">#headç”¨äºä¼ªè£…ã€å‘æœåŠ¡ç«¯å‘æ¶ˆæ¯</span><br>    head = &#123;<br>        <span class="hljs-string">&quot;User-Agent&quot;</span>:<br>        <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36 Edg/87.0.664.66&quot;</span><br>    &#125;<br>    request = urllib.request.Request(url, headers=head)<br>    html = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        response = urllib.request.urlopen(request)<br>        html = response.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>        print(html)<br>    <span class="hljs-keyword">except</span> urllib.error.URLError <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;code&quot;</span>):<br>            print(e.code)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;reason&quot;</span>):<br>            print(e.reason)<br>    <span class="hljs-keyword">return</span> html<br></code></pre></td></tr></table></figure><h1 id="è§£ææ•°æ®"><a href="#è§£ææ•°æ®" class="headerlink" title="è§£ææ•°æ®"></a>è§£ææ•°æ®</h1><h2 id="è¡¥å……bs4"><a href="#è¡¥å……bs4" class="headerlink" title="è¡¥å……bs4"></a>è¡¥å……bs4</h2><p>bs4å°†Htmlæ–‡æ¡£è½¬æ¢æˆä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯pythonå¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡å¯ä»¥å½’çº³ä¸º4ç§</p><ol><li><p>-Tag</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><span class="hljs-comment">#ä¼šæŠŠç¬¬ä¸€ä¸ªæ ‡ç­¾æ‰“å°å‡ºæ¥</span><br><br>print(bs.title)<br>print(bs.a)<br>print(bs.link)<br>print(<span class="hljs-built_in">type</span>(bs.link))<br></code></pre></td></tr></table></figure><p> ä¼šæ‹¿åˆ°ç¬¬ä¸€ä¸ªæ ‡ç­¾</p></li><li><p>-NavigableString</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs.title.string)<br>print(<span class="hljs-built_in">type</span>(bs.title.string))<br></code></pre></td></tr></table></figure><p> ä¸Šé¢çš„ä¼šæ‰“å°æ³¨é‡Š</p><p> ä¸‹é¢ä¼šæ‰“å°å‡ºå­—å…¸</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs.a.attrs)<br>print(<span class="hljs-built_in">type</span>(bs.a.attrs))<br></code></pre></td></tr></table></figure></li><li><p>-BeautifulSoup</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs)<br></code></pre></td></tr></table></figure></li><li><p>-comment</p><p> ç¬¬ä¸€ç§æ‰“å°å‡ºæ³¨é‡Šå°±æ˜¯comment</p></li></ol><h2 id="èŠ‚ç‚¹çš„è·å–"><a href="#èŠ‚ç‚¹çš„è·å–" class="headerlink" title="èŠ‚ç‚¹çš„è·å–"></a>èŠ‚ç‚¹çš„è·å–</h2><h3 id="æ–‡æ¡£çš„éå†"><a href="#æ–‡æ¡£çš„éå†" class="headerlink" title="æ–‡æ¡£çš„éå†"></a>æ–‡æ¡£çš„éå†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read()<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>print(bs.head.contents[<span class="hljs-number">0</span>])<br></code></pre></td></tr></table></figure><p>contentsæ˜¯ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ </p><h3 id="æ–‡æ¡£çš„æœç´¢"><a href="#æ–‡æ¡£çš„æœç´¢" class="headerlink" title="æ–‡æ¡£çš„æœç´¢"></a>æ–‡æ¡£çš„æœç´¢</h3><ol><li><p>find_allâ€”å­—ç¬¦ä¸²è¿‡æ»¤ã€ä¼šæŸ¥æ‰¾ä¸å­—ç¬¦ä¸²å®Œå…¨ä¸€è‡´çš„æ ‡ç­¾</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>t_list = bs.find_all(<span class="hljs-string">&quot;a&quot;</span>)<br>print(t_list)<br></code></pre></td></tr></table></figure><ol><li><p>æ­£åˆ™è¡¨è¾¾å¼æœç´¢ã€ä½¿ç”¨search()æ–¹æ³•æœç´¢ã€æŠŠåŒ…å«açš„éƒ½æ‹¿å‡ºæ¥</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> re<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>t_list = bs.find_all(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;a&quot;</span>))<br>print(t_list)<br></code></pre></td></tr></table></figure></li><li><p>æ–¹æ³•ï¼šä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®å‡½æ•°çš„è¦æ±‚æ¥æœç´¢</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> re<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_name_exist</span>(<span class="hljs-params">tag</span>):</span><br>    <span class="hljs-keyword">return</span> tag.<span class="hljs-built_in">hasattr</span>(<span class="hljs-string">&quot;name&quot;</span>)<br><br>t_list = bs.find_all(is_name_exist)<br><br>print(t_list)<br></code></pre></td></tr></table></figure></li></ol></li><li><p>kwargs_____å‚æ•°</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> re<br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;E:\\baidu.html&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>)<br>html = f.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>bs = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br><br>t_list = bs.find_all(<span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;head&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="è¡¥å……æ­£åˆ™è¡¨è¾¾å¼"><a href="#è¡¥å……æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="è¡¥å……æ­£åˆ™è¡¨è¾¾å¼"></a>è¡¥å……æ­£åˆ™è¡¨è¾¾å¼</h2></li></ol><p><a href="https://www.bilibili.com/video/BV12E411A7ZQ?p=22"></a></p><p><a href="https://www.cnblogs.com/dreamingbaobei/p/9717234.html">å²ä¸Šæœ€å…¨å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨</a></p><p><a href="Spider%2074d04c2785984ec0a50e036a4a41e102/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6%206ef815be95ee46bc90e8b2a4e93d312b.csv">å¸¸ç”¨æ“ä½œç¬¦</a></p><p><a href="Spider%2074d04c2785984ec0a50e036a4a41e102/Re%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%20bc8815fda34b42e083b77b30d2b77a90.csv">Reåº“çš„ä½¿ç”¨</a></p><p><a href="Spider%2074d04c2785984ec0a50e036a4a41e102/Re%E5%BA%93%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6%20fe84e1a330d64ec7b0aa3f61523264c1.csv">Reåº“çš„ä¿®é¥°ç¬¦</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>pat = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;AA&quot;</span>)  <span class="hljs-comment">#æ­¤å¤„AAæ˜¯æ­£åˆ™è¡¨è¾¾å¼</span><br>m = pat.search(<span class="hljs-string">&quot;ABCFFFAA&quot;</span>)  <span class="hljs-comment">#è¢«åŒ¹é…çš„</span><br>print(m) <span class="hljs-comment">#å·¦é—­å³å¼€</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„searchåªä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä¸²ï¼Œä¸‹é¢æ˜¯ç¬¬äºŒç§å†™æ³•ï¼Œå‰é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.search(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;fsaa&quot;</span>))<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯findall</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.findall(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;faasaa&quot;</span>))<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.findall(<span class="hljs-string">&quot;[A-Z]&quot;</span>, <span class="hljs-string">&quot;faCasBaaAA&quot;</span>))<br></code></pre></td></tr></table></figure><p>subçš„ä½¿ç”¨ï¼Œåœ¨ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç”¨ç¬¬äºŒä¸ªå­—ç¬¦æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.sub(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;asdfagfsg&quot;</span>))<br></code></pre></td></tr></table></figure><p>å»ºè®®åœ¨æ­£åˆ™è¡¨è¾¾å¼å‰é¢åŠ ä¸Šrï¼Œä¸ç”¨æ‹…å¿ƒè½¬ä¹‰å­—ç¬¦çš„é—®é¢˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br>print(re.sub(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">r&quot;/A/&quot;</span>, <span class="hljs-string">&quot;asdfagfsg&quot;</span>))  <br></code></pre></td></tr></table></figure><h2 id="æ­£åˆ™æå–"><a href="#æ­£åˆ™æå–" class="headerlink" title="æ­£åˆ™æå–"></a>æ­£åˆ™æå–</h2><p><a href="https://www.bilibili.com/video/BV12E411A7ZQ?t=7&p=23"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">findlink = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&#x27;</span>)  <span class="hljs-comment">#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€è¡¨ç¤ºè§„åˆ™å­—ç¬¦ä¸²çš„æ¨¡å¼</span><br>findImgsrc = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;img.*src=&quot;(.*?)&quot;&#x27;</span>, re.S)<br>findMovieName = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;title&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findScore = re.<span class="hljs-built_in">compile</span>(<br>    <span class="hljs-string">r&#x27;&lt;span class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findIformation = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;inq&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findDitail = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;p class=&quot;&quot;&gt;(.*)&lt;/p&gt;&#x27;</span>, re.S)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br>    datalist = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>):<br>        url = baseurl + <span class="hljs-built_in">str</span>(i)<br>        html = AskUrl(url)  <span class="hljs-comment">#ä¿å­˜</span><br>        <span class="hljs-comment">#è§£æ</span><br>        soup = bs4.BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&quot;item&quot;</span>):<br>            <span class="hljs-comment">#print(item)  #ä¸‹é¢æ˜¯ä¿å­˜</span><br>            <span class="hljs-comment">#break</span><br>            data = []<br>            item = <span class="hljs-built_in">str</span>(item)<br>            link = re.findall(findlink, item)[<span class="hljs-number">0</span>]  <span class="hljs-comment">#é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾å­—ç¬¦ä¸²,0è¡¨ç¤ºä¸¤ä¸ªé‡Œé¢çš„ç¬¬ä¸€ä¸ª</span><br>            <span class="hljs-comment">#print(link)</span><br>            img = re.findall(findImgsrc, item)[<span class="hljs-number">0</span>]<br>            <span class="hljs-comment">#print(img)</span><br>            name = re.findall(findMovieName, item)[<span class="hljs-number">0</span>]<br>            <span class="hljs-comment">#print(name)</span><br>            score = re.findall(findScore, item)[<span class="hljs-number">0</span>]<br>            print(score)<br>            <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">return</span> datalist<br></code></pre></td></tr></table></figure><h2 id="æ ‡ç­¾è§£æ"><a href="#æ ‡ç­¾è§£æ" class="headerlink" title="æ ‡ç­¾è§£æ"></a>æ ‡ç­¾è§£æ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br>    datalist = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>):<br>        url = baseurl + <span class="hljs-built_in">str</span>(i)<br>        html = AskUrl(url)  <span class="hljs-comment">#ä¿å­˜</span><br>        <span class="hljs-comment">#è§£æ</span><br>        soup = bs4.BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&quot;item&quot;</span>):<br>            <span class="hljs-comment">#print(item)  #ä¸‹é¢æ˜¯ä¿å­˜</span><br>            <span class="hljs-comment">#break</span><br>            data = []<br>            item = <span class="hljs-built_in">str</span>(item)<br>            link = re.findall(findlink, item)[<span class="hljs-number">0</span>]  <span class="hljs-comment">#é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾å­—ç¬¦ä¸²,0è¡¨ç¤ºä¸¤ä¸ªé‡Œé¢çš„ç¬¬ä¸€ä¸ª</span><br>            data.append(link)<br>            <span class="hljs-comment">#print(link)</span><br>            img = re.findall(findImgsrc, item)[<span class="hljs-number">0</span>]<br>            data.append(img)<br>            <span class="hljs-comment">#print(img)</span><br>            name = re.findall(findMovieName, item)<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">len</span>(name) == <span class="hljs-number">2</span>):<br>                ctitle = name[<span class="hljs-number">0</span>]<br>                data.append(ctitle)<br>                otitle = name[<span class="hljs-number">1</span>].replace(<span class="hljs-string">&quot;\xa0/\xa0&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>                <span class="hljs-comment">#print(otitle)</span><br>                data.append(otitle)<br>            <span class="hljs-keyword">else</span>:<br>                data.append(name[<span class="hljs-number">0</span>])<br>                data.append(<span class="hljs-string">&quot; &quot;</span>)<br>            <span class="hljs-comment">#print(name)</span><br>            score = re.findall(findScore, item)[<span class="hljs-number">0</span>]<br>            data.append(score)<br>            <span class="hljs-comment">#print(score)</span><br>            information = re.findall(findIformation, item)[<span class="hljs-number">0</span>]<br>            data.append(information.replace(<span class="hljs-string">&quot;ã€‚&quot;</span>, <span class="hljs-string">&quot;&quot;</span>))<br><br>            datalist.append(data)<br>            print(datalist)<br>    <span class="hljs-keyword">return</span> datalist<br></code></pre></td></tr></table></figure><h1 id="ä¿å­˜"><a href="#ä¿å­˜" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h1><h2 id="ä¿å­˜åˆ°excelä¸­"><a href="#ä¿å­˜åˆ°excelä¸­" class="headerlink" title="ä¿å­˜åˆ°excelä¸­"></a>ä¿å­˜åˆ°excelä¸­</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br>wookbook = xlwt.Workbook()<br>wooksheet = wookbook.add_sheet(<span class="hljs-string">&quot;sheet1&quot;</span>)<br>wooksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;Hello&quot;</span>)<br>wookbook.save(<span class="hljs-string">&quot;text.xls&quot;</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¹ä¹ä¹˜æ³•è¡¨ï¼Œç¤ºä¾‹pythonçš„xlwtçš„ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br>wookbook = xlwt.Workbook()<br>wooksheet = wookbook.add_sheet(<span class="hljs-string">&quot;sheet1&quot;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">9</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, i + <span class="hljs-number">1</span>):<br>        wooksheet.write(i, j, <span class="hljs-string">&quot;%d*%d=%d&quot;</span> % (i + <span class="hljs-number">1</span>, j + <span class="hljs-number">1</span>, (j + <span class="hljs-number">1</span>) * (i + <span class="hljs-number">1</span>)))<br>wookbook.save(<span class="hljs-string">&quot;1.xls&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*-codeing:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> bs4  <span class="hljs-comment">#ç½‘é¡µè§£æã€è·å–æ•°æ®</span><br><span class="hljs-keyword">import</span> re  <span class="hljs-comment">#æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="hljs-keyword">import</span> urllib.request, urllib.error  <span class="hljs-comment">#æŒ‡å®šurlã€è·å–ç½‘é¡µæ•°æ®</span><br><span class="hljs-keyword">import</span> xlwt  <span class="hljs-comment">#è¿›è¡Œexcelæ“ä½œ</span><br><span class="hljs-keyword">import</span> sqlite3  <span class="hljs-comment">#è¿›è¡Œsqlitæ•°æ®åº“æ“ä½œ</span><br><br>baseurl = <span class="hljs-string">&quot;https://movie.douban.com/top250?start=&quot;</span><br><br>datalist = []<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    GetData(baseurl)<br>    SaveData(datalist)<br><br>findlink = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&#x27;</span>)  <span class="hljs-comment">#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€è¡¨ç¤ºè§„åˆ™å­—ç¬¦ä¸²çš„æ¨¡å¼</span><br>findImgsrc = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;img.*src=&quot;(.*?)&quot;&#x27;</span>, re.S)<br>findMovieName = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;title&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findScore = re.<span class="hljs-built_in">compile</span>(<br>    <span class="hljs-string">r&#x27;&lt;span class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br>findIformation = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;&lt;span class=&quot;inq&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetData</span>(<span class="hljs-params">baseurl</span>):</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>):<br>        url = baseurl + <span class="hljs-built_in">str</span>(i)<br>        html = AskUrl(url)  <span class="hljs-comment">#ä¿å­˜</span><br>        <span class="hljs-comment">#è§£æ</span><br>        soup = bs4.BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;div&#x27;</span>, class_=<span class="hljs-string">&quot;item&quot;</span>):<br>            <span class="hljs-comment">#print(item)  #ä¸‹é¢æ˜¯ä¿å­˜</span><br>            <span class="hljs-comment">#break</span><br>            data = []<br>            item = <span class="hljs-built_in">str</span>(item)<br>            link = re.findall(findlink, item)[<span class="hljs-number">0</span>]  <span class="hljs-comment">#é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾å­—ç¬¦ä¸²,0è¡¨ç¤ºä¸¤ä¸ªé‡Œé¢çš„ç¬¬ä¸€ä¸ª</span><br>            data.append(link)<br>            <span class="hljs-comment">#print(link)</span><br>            img = re.findall(findImgsrc, item)[<span class="hljs-number">0</span>]<br>            data.append(img)<br>            <span class="hljs-comment">#print(img)</span><br>            name = re.findall(findMovieName, item)<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">len</span>(name) == <span class="hljs-number">2</span>):<br>                ctitle = name[<span class="hljs-number">0</span>]<br>                data.append(ctitle)<br>                otitle = name[<span class="hljs-number">1</span>].replace(<span class="hljs-string">&quot;\xa0/\xa0&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>                <span class="hljs-comment">#print(otitle)</span><br>                data.append(otitle)<br>            <span class="hljs-keyword">else</span>:<br>                data.append(name[<span class="hljs-number">0</span>])<br>                data.append(<span class="hljs-string">&quot; &quot;</span>)<br>            <span class="hljs-comment">#print(name)</span><br>            score = re.findall(findScore, item)[<span class="hljs-number">0</span>]<br>            data.append(score)<br>            <span class="hljs-comment">#print(score)</span><br>            information = re.findall(findIformation, item)[<span class="hljs-number">0</span>]<br>            data.append(information.replace(<span class="hljs-string">&quot;ã€‚&quot;</span>, <span class="hljs-string">&quot;&quot;</span>))<br><br>            datalist.append(data)<br>            <span class="hljs-comment">#print(datalist)</span><br>    <span class="hljs-keyword">return</span> datalist<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">AskUrl</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-comment">#headç”¨äºä¼ªè£…ã€å‘æœåŠ¡ç«¯å‘æ¶ˆæ¯</span><br>    head = &#123;<br>        <span class="hljs-string">&quot;User-Agent&quot;</span>:<br>        <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36 Edg/87.0.664.66&quot;</span><br>    &#125;<br>    request = urllib.request.Request(url, headers=head)<br>    html = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        response = urllib.request.urlopen(request)<br>        html = response.read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>        <span class="hljs-comment">#print(html)</span><br>    <span class="hljs-keyword">except</span> urllib.error.URLError <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;code&quot;</span>):<br>            print(e.code)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(e, <span class="hljs-string">&quot;reason&quot;</span>):<br>            print(e.reason)<br>    <span class="hljs-keyword">return</span> html<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">SaveData</span>(<span class="hljs-params">datalist</span>):</span><br>    wookbook = xlwt.Workbook(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)  <span class="hljs-comment">#åˆ›å»º</span><br>    wooksheet = wookbook.add_sheet(<span class="hljs-string">&quot;sheet1&quot;</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">250</span>):<br>        print(<span class="hljs-string">&quot;ç¬¬%dæ¡&quot;</span> % (i + <span class="hljs-number">1</span>))<br>        data = datalist[i]<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>):<br>            wooksheet.write(i, j, data[j])<br>    wookbook.save(<span class="hljs-string">&quot;douban.xls&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h1 id="SQliteéƒ¨åˆ†"><a href="#SQliteéƒ¨åˆ†" class="headerlink" title="SQliteéƒ¨åˆ†"></a>SQliteéƒ¨åˆ†</h1><p>ç»“æ„å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">**<span class="hljs-keyword">import</span> sqlite3<br>conn = sqlite3.connect(<span class="hljs-string">&quot;test.db&quot;</span>)<br>print(<span class="hljs-string">&quot;Successfully open&quot;</span>)<br>c = conn.cursor()<br>sql = <span class="hljs-string">&quot;&quot;</span><br>c.execute(sql)<br>conn.commit()<br>conn.close()<br>print(<span class="hljs-string">&quot;Successfully create&quot;</span>)**<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
